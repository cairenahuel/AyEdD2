\usepackage{etoolbox}
\usepackage{changepage}
\newcommand{\tbft}[2]{\par\addvspace{\baselineskip}\textbf{#1}\hspace{0.35em}{#2}\\\par\addvspace{\baselineskip}}
\newcommand{\salto}[1]{\par\addvspace{#1}}
\newcommand{\sii}{\longleftrightarrow}
\newcommand{\encabezadoTAD}[1]{TAD\ \ \normalfont\ttfamily#1 }
\newenvironment{tad}[1]{
% \newcounter{numObs#1}%
% \setcounter{numObs#1}{1}
\salto{1ex}\par\noindent\encabezadoTAD{#1}\{
    \begin{adjustwidth}{3em}{0em}
    \newcommand{\obs}[3]{\par\noindent{\ttfamily obs} ##1: ##2\par
    % \csdef{\newcommand}{##1}{\roman{numObs#1}}
    % \csdef{\newcommand}{##1}{\expandonce{\roman{numObs#1}}}
    % \stepcounter{numObs#1}}
    % \expandafter\newcommand\csname ##3 \endcsname{##1}
    % \def\newcommand\roman{numObs#1}{##1}

    }
    \newcommand{\nombretad}{{\ttfamily#1}}}
        {\end{adjustwidth}\par\}}
% \begin{tad}{nombre del tad}{parametros}
%   AGREGAR UN OBSERVADOR
%     \obs{nombre observador}{tipo}
%     \nombretad <---------- DEVUELVE EL NOMBRE DEL TAD (du)
%     \end{tad}